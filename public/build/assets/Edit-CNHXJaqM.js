import{b as v,d as k,o as n,w as g,e,f as w,c as i,i as a,k as u,u as s,q as x,t as l,p as m,F as _,z as h,a as V}from"./app-CxJ0vpa7.js";import{_ as U}from"./AuthenticatedLayout-Bp61g_Pn.js";import{I as S}from"./ImageUploader-DK73FtNH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                      */const M={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},C={class:"p-6 text-gray-900"},T={key:0,class:"mt-1 text-sm text-red-600"},B={key:0,class:"mt-1 text-sm text-red-600"},D={key:0,class:"mt-1 text-sm text-red-600"},P={key:0,class:"mt-1 text-sm text-red-600"},E={key:0,class:"mt-1 text-sm text-red-600"},F={key:0,class:"mt-1 text-sm text-red-600"},I={key:0,class:"mt-1 text-sm text-red-600"},N={key:0,class:"mt-1 text-sm text-red-600"},O={key:0,class:"mt-1 text-sm text-red-600"},j={key:0,class:"mt-1 text-sm text-red-600"},A={key:0,class:"mt-1 text-sm text-red-600"},z={key:0},L={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},R={class:"flex items-center space-x-3"},G={class:"flex-shrink-0"},W=["src","alt"],H={key:1,class:"h-12 w-12 bg-blue-100 rounded flex items-center justify-center"},J={class:"flex-1 min-w-0"},$={class:"text-sm font-medium text-gray-900 truncate"},K={class:"text-xs text-gray-500"},Q={class:"flex items-center justify-end space-x-3"},X=["disabled"],se={__name:"Edit",props:{expense:{type:Object,required:!0}},setup(c){const d=c,b=p=>p?new Date(p).toISOString().split("T")[0]:"",o=v({title:d.expense.title||"",description:d.expense.description||"",amount:d.expense.amount||0,expense_date:b(d.expense.expense_date),category:d.expense.category||"",status:d.expense.status||"pending",payment_method:d.expense.payment_method||"cash",merchant:d.expense.merchant||"",receipt_number:d.expense.receipt_number||"",tax_amount:d.expense.tax_amount||0,notes:d.expense.notes||"",receipts:[]}),f=()=>{o.put(route("expenses.web.update",d.expense.id),{onSuccess:()=>{}})},y=()=>{window.history.back()};return(p,t)=>(n(),k(U,null,{header:g(()=>t[12]||(t[12]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Edit Expense ",-1)])),default:g(()=>[e("div",null,[e("div",M,[e("div",q,[e("div",C,[e("form",{onSubmit:w(f,["prevent"]),class:"space-y-6"},[e("div",null,[t[14]||(t[14]=e("label",{for:"category",class:"block text-sm font-medium text-gray-700"}," Category * ",-1)),u(e("select",{id:"category","onUpdate:modelValue":t[0]||(t[0]=r=>s(o).category=r),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},t[13]||(t[13]=[e("option",{value:""},"Select a category",-1),e("option",{value:"Labor"},"Labor",-1),e("option",{value:"Software"},"Software",-1),e("option",{value:"Table"},"Table",-1),e("option",{value:"Advertising"}," Advertising ",-1),e("option",{value:"Office Supplies"}," Office Supplies ",-1),e("option",{value:"Travel"},"Travel",-1),e("option",{value:"Utilities"},"Utilities",-1),e("option",{value:"Marketing"},"Marketing",-1),e("option",{value:"Inventory"},"Inventory",-1)]),512),[[x,s(o).category]]),s(o).errors.category?(n(),i("p",T,l(s(o).errors.category),1)):a("",!0)]),e("div",null,[t[15]||(t[15]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700"}," Title * ",-1)),u(e("input",{type:"text",id:"title","onUpdate:modelValue":t[1]||(t[1]=r=>s(o).title=r),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[m,s(o).title]]),s(o).errors.title?(n(),i("p",B,l(s(o).errors.title),1)):a("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Description * ",-1)),u(e("textarea",{id:"description","onUpdate:modelValue":t[2]||(t[2]=r=>s(o).description=r),required:"",rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[m,s(o).description]]),s(o).errors.description?(n(),i("p",D,l(s(o).errors.description),1)):a("",!0)]),e("div",null,[t[17]||(t[17]=e("label",{for:"amount",class:"block text-sm font-medium text-gray-700"}," Amount * ",-1)),u(e("input",{type:"number",id:"amount","onUpdate:modelValue":t[3]||(t[3]=r=>s(o).amount=r),required:"",min:"0",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[m,s(o).amount]]),s(o).errors.amount?(n(),i("p",P,l(s(o).errors.amount),1)):a("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{for:"expense_date",class:"block text-sm font-medium text-gray-700"}," Expense Date * ",-1)),u(e("input",{type:"date",id:"expense_date","onUpdate:modelValue":t[4]||(t[4]=r=>s(o).expense_date=r),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[m,s(o).expense_date]]),s(o).errors.expense_date?(n(),i("p",E,l(s(o).errors.expense_date),1)):a("",!0)]),e("div",null,[t[20]||(t[20]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700"}," Status * ",-1)),u(e("select",{id:"status","onUpdate:modelValue":t[5]||(t[5]=r=>s(o).status=r),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},t[19]||(t[19]=[e("option",{value:"pending"},"Pending",-1),e("option",{value:"paid"},"Paid",-1),e("option",{value:"cancelled"},"Cancelled",-1)]),512),[[x,s(o).status]]),s(o).errors.status?(n(),i("p",F,l(s(o).errors.status),1)):a("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{for:"payment_method",class:"block text-sm font-medium text-gray-700"}," Payment Method * ",-1)),u(e("select",{id:"payment_method","onUpdate:modelValue":t[6]||(t[6]=r=>s(o).payment_method=r),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},t[21]||(t[21]=[e("option",{value:"cash"},"Cash",-1),e("option",{value:"card"},"Card",-1),e("option",{value:"online"},"Online",-1),e("option",{value:"bank_transfer"}," Bank Transfer ",-1)]),512),[[x,s(o).payment_method]]),s(o).errors.payment_method?(n(),i("p",I,l(s(o).errors.payment_method),1)):a("",!0)]),e("div",null,[t[23]||(t[23]=e("label",{for:"merchant",class:"block text-sm font-medium text-gray-700"}," Merchant ",-1)),u(e("input",{type:"text",id:"merchant","onUpdate:modelValue":t[7]||(t[7]=r=>s(o).merchant=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[m,s(o).merchant]]),s(o).errors.merchant?(n(),i("p",N,l(s(o).errors.merchant),1)):a("",!0)]),e("div",null,[t[24]||(t[24]=e("label",{for:"receipt_number",class:"block text-sm font-medium text-gray-700"}," Receipt Number ",-1)),u(e("input",{type:"text",id:"receipt_number","onUpdate:modelValue":t[8]||(t[8]=r=>s(o).receipt_number=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[m,s(o).receipt_number]]),s(o).errors.receipt_number?(n(),i("p",O,l(s(o).errors.receipt_number),1)):a("",!0)]),e("div",null,[t[25]||(t[25]=e("label",{for:"tax_amount",class:"block text-sm font-medium text-gray-700"}," Tax Amount ",-1)),u(e("input",{type:"number",id:"tax_amount","onUpdate:modelValue":t[9]||(t[9]=r=>s(o).tax_amount=r),min:"0",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[m,s(o).tax_amount]]),s(o).errors.tax_amount?(n(),i("p",j,l(s(o).errors.tax_amount),1)):a("",!0)]),e("div",null,[t[26]||(t[26]=e("label",{for:"notes",class:"block text-sm font-medium text-gray-700"}," Notes ",-1)),u(e("textarea",{id:"notes","onUpdate:modelValue":t[10]||(t[10]=r=>s(o).notes=r),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[m,s(o).notes]]),s(o).errors.notes?(n(),i("p",A,l(s(o).errors.notes),1)):a("",!0)]),d.expense.media&&d.expense.media.length>0?(n(),i("div",z,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Existing Receipts ",-1)),e("div",L,[(n(!0),i(_,null,h(d.expense.media,r=>(n(),i("div",{key:r.id,class:"border rounded-lg p-3 bg-gray-50"},[e("div",R,[e("div",G,[r.mime_type.startsWith("image/")?(n(),i("img",{key:0,src:r.url,alt:r.original_name,class:"h-12 w-12 object-cover rounded"},null,8,W)):(n(),i("div",H,t[27]||(t[27]=[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])))]),e("div",J,[e("p",$,l(r.original_name),1),e("p",K,l(r.formatted_size),1)])])]))),128))])])):a("",!0),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Add More Receipts (Optional) ",-1)),V(S,{modelValue:s(o).receipts,"onUpdate:modelValue":t[11]||(t[11]=r=>s(o).receipts=r),multiple:!0,accept:"image/*,.pdf","max-size":10*1024*1024,label:"Upload additional receipts",description:"Drag & drop receipt images or PDFs here, or click to browse",error:s(o).errors.receipts},null,8,["modelValue","error"]),t[30]||(t[30]=e("p",{class:"mt-1 text-xs text-gray-500"}," Supported formats: JPG, PNG, WebP, PDF (Max 10MB each) ",-1))]),e("div",Q,[e("button",{type:"button",onClick:y,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Cancel "),e("button",{type:"submit",disabled:s(o).processing,class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"},l(s(o).processing?"Updating...":"Update Expense"),9,X)])],32)])])])])]),_:1}))}};export{se as default};
