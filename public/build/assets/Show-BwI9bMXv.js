import{j as n,d as C,o as S,w as m,e as t,t as a,G as k,n as x,s as r}from"./app-DIXSCgPE.js";import{_ as $}from"./AuthenticatedLayout-_5prmJNd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},A={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},B={class:"p-6 text-gray-900"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},T={class:"space-y-4"},U={class:"mt-1 text-sm text-gray-900"},M={class:"mt-1 text-sm text-gray-900"},N={class:"mt-1 text-sm text-gray-900"},j={class:"mt-1 text-sm text-gray-900"},E={class:"mt-1"},L={class:"flex items-center"},q={class:"w-full bg-gray-200 rounded-full h-2.5"},z={class:"ml-2 text-sm font-medium text-gray-900"},F={class:"mt-1 text-sm text-gray-900"},O={class:"mt-1 text-sm text-gray-900"},P={class:"space-y-4"},Y={class:"mt-1 text-sm text-gray-900"},I={class:"mt-1 text-sm text-gray-900"},Q={class:"mt-1"},R={class:"mt-1 text-sm text-gray-900"},H={class:"mt-1 text-sm text-gray-900"},J={class:"mt-1 text-sm text-gray-900"},K={class:"mt-8 bg-gray-50 rounded-lg p-6"},W={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},X={class:"bg-white rounded-lg p-4 shadow"},Z={class:"mt-1 text-2xl font-semibold text-gray-900"},tt={class:"bg-white rounded-lg p-4 shadow"},et={class:"mt-1 text-2xl font-semibold text-gray-900"},st={class:"bg-white rounded-lg p-4 shadow"},ot={class:"mt-1 text-2xl font-semibold text-gray-900"},nt={__name:"Show",props:{goal:{type:Object,required:!0}},setup(c){const s=c,f=()=>{r.visit(`/goals/${s.goal.id}/edit`)},y=()=>{confirm("Are you sure you want to delete this goal?")&&r.delete(`/goals/${s.goal.id}`,{preserveScroll:!0,onSuccess:()=>{r.visit("/goals")},onError:o=>{console.error("Error deleting goal:",o),o.message?.includes("403")&&alert("You don't have permission to delete this goal.")}})},v=()=>{r.visit("/goals")},l=o=>parseFloat(o||0).toFixed(2),p=o=>o?new Date(o).toLocaleDateString():"N/A",g=o=>o?new Date(o).toLocaleString():"N/A",b=o=>o?o.charAt(0).toUpperCase()+o.slice(1).replace("_"," "):"Unknown",_=o=>({draft:"bg-gray-100 text-gray-800",published:"bg-green-100 text-green-800",archived:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",u=n(()=>!s.goal.target_value||s.goal.target_value<=0?0:Math.min(100,Math.round(s.goal.current_value/s.goal.target_value*100))),w=n(()=>Math.max(0,s.goal.target_value-s.goal.current_value)),h=n(()=>{if(!s.goal.deadline)return"No deadline set";const o=new Date(s.goal.deadline),e=new Date;if(o<e)return"Overdue";const i=o-e,d=Math.ceil(i/(1e3*60*60*24));return d===0?"Due today":`${d} day${d>1?"s":""}`}),D=n(()=>{if(!s.goal.deadline)return"text-gray-600";const o=new Date(s.goal.deadline),e=new Date;if(o<e)return"text-red-600 font-semibold";const i=o-e;return Math.ceil(i/(1e3*60*60*24))<=7?"text-orange-600 font-semibold":"text-green-600"});return(o,e)=>(S(),C($,null,{header:m(()=>[t("div",{class:"flex justify-between items-center"},[e[0]||(e[0]=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Goal Details ",-1)),t("div",{class:"flex space-x-2"},[t("button",{onClick:f,class:"inline-flex items-center px-4 py-2 bg-yellow-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-yellow-700 focus:bg-yellow-700 active:bg-yellow-900 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Edit "),t("button",{onClick:y,class:"inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 focus:bg-red-700 active:bg-red-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Delete "),t("button",{onClick:v,class:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Back ")])])]),default:m(()=>[t("div",null,[t("div",V,[t("div",A,[t("div",B,[t("div",G,[t("div",null,[e[8]||(e[8]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Goal Information ",-1)),t("dl",T,[t("div",null,[e[1]||(e[1]=t("dt",{class:"text-sm font-medium text-gray-500"}," Title ",-1)),t("dd",U,a(s.goal.title),1)]),t("div",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500"}," Description ",-1)),t("dd",M,a(s.goal.description||"No description provided"),1)]),t("div",null,[e[3]||(e[3]=t("dt",{class:"text-sm font-medium text-gray-500"}," Target Value ",-1)),t("dd",N," $"+a(l(s.goal.target_value)),1)]),t("div",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500"}," Current Value ",-1)),t("dd",j," $"+a(l(s.goal.current_value)),1)]),t("div",null,[e[5]||(e[5]=t("dt",{class:"text-sm font-medium text-gray-500"}," Progress ",-1)),t("dd",E,[t("div",L,[t("div",q,[t("div",{class:"bg-blue-600 h-2.5 rounded-full",style:k({width:u.value+"%"})},null,4)]),t("span",z,a(u.value)+"% ",1)])])]),t("div",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500"}," Quarter ",-1)),t("dd",F,a(s.goal.quarter),1)]),t("div",null,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-gray-500"}," Year ",-1)),t("dd",O,a(s.goal.year),1)])])]),t("div",null,[e[15]||(e[15]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Additional Details ",-1)),t("dl",P,[t("div",null,[e[9]||(e[9]=t("dt",{class:"text-sm font-medium text-gray-500"}," Deadline ",-1)),t("dd",Y,a(p(s.goal.deadline)),1)]),t("div",null,[e[10]||(e[10]=t("dt",{class:"text-sm font-medium text-gray-500"}," Days Until Deadline ",-1)),t("dd",I,[t("span",{class:x(D.value)},a(h.value),3)])]),t("div",null,[e[11]||(e[11]=t("dt",{class:"text-sm font-medium text-gray-500"}," Status ",-1)),t("dd",Q,[t("span",{class:x([_(s.goal.status),"px-2 py-1 text-xs font-medium rounded-full"])},a(b(s.goal.status)),3)])]),t("div",null,[e[12]||(e[12]=t("dt",{class:"text-sm font-medium text-gray-500"}," Created By ",-1)),t("dd",R,a(s.goal.user?.name||"System"),1)]),t("div",null,[e[13]||(e[13]=t("dt",{class:"text-sm font-medium text-gray-500"}," Created At ",-1)),t("dd",H,a(g(s.goal.created_at)),1)]),t("div",null,[e[14]||(e[14]=t("dt",{class:"text-sm font-medium text-gray-500"}," Last Updated ",-1)),t("dd",J,a(g(s.goal.updated_at)),1)])])])]),t("div",K,[e[19]||(e[19]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Goal Statistics ",-1)),t("div",W,[t("div",X,[e[16]||(e[16]=t("dt",{class:"text-sm font-medium text-gray-500"}," Target Value ",-1)),t("dd",Z," $"+a(l(s.goal.target_value)),1)]),t("div",tt,[e[17]||(e[17]=t("dt",{class:"text-sm font-medium text-gray-500"}," Current Value ",-1)),t("dd",et," $"+a(l(s.goal.current_value)),1)]),t("div",st,[e[18]||(e[18]=t("dt",{class:"text-sm font-medium text-gray-500"}," Remaining Value ",-1)),t("dd",ot," $"+a(l(w.value)),1)])])])])])])])]),_:1}))}};export{nt as default};
