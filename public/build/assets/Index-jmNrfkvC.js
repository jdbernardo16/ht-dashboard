import{m as g,j as oe,x as se,d as re,o as a,w as u,e,a as S,c as n,t as r,i as N,k as m,p as M,F as x,z as y,q as T,g as P,G as ae,n as F,s as c}from"./app-B2jK0_72.js";import{_ as ne}from"./AuthenticatedLayout-U9Pl7f8v.js";import{D as ie,_ as de}from"./Pagination--XhsgPpS.js";import{_ as ue}from"./FormModal-Cgk5uo7h.js";import"./Modal-5yiuopA_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ge={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ce={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},be={class:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-3 border border-blue-100"},me={class:"flex items-center"},pe={class:"ml-4"},fe={class:"text-2xl font-bold text-gray-900"},ve={class:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-3 border border-green-100"},xe={class:"flex items-center"},ye={class:"ml-4"},he={class:"text-2xl font-bold text-gray-900"},we={class:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl p-3 border border-yellow-100"},ke={class:"flex items-center"},_e={class:"ml-4"},Ce={class:"text-2xl font-bold text-gray-900"},Se={class:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-3 border border-purple-100"},Me={class:"flex items-center"},Te={class:"ml-4"},Fe={class:"text-2xl font-bold text-gray-900"},je={class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-8"},qe={class:"p-6"},Ve={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Ge={class:"lg:col-span-2"},Be={class:"relative"},De=["value"],Ne=["value"],Pe={class:"mt-4"},Ee=["aria-expanded"],Ae={key:0,class:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},$e=["value"],ze={class:"mt-6 flex flex-col sm:flex-row gap-3 justify-end"},Ue=["disabled"],Ie={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Le={class:"animate-pulse space-y-4"},He={class:"space-y-3"},Oe={key:1,class:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center"},Re={key:2,class:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center"},We={key:3,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},Ye={class:"relative"},Je={key:0,class:"absolute inset-0 bg-white bg-opacity-50 z-10 flex items-center justify-center"},Ke={class:"font-semibold text-gray-900 max-w-xs"},Qe={class:"font-semibold text-blue-600 text-lg"},Xe={class:"w-full max-w-xs"},Ze={class:"flex items-center justify-between mb-1"},et={class:"text-xs font-medium text-gray-900"},tt={class:"w-full bg-gray-200 rounded-full h-2"},lt={class:"text-sm text-gray-900"},ot={class:"border-t border-gray-200"},gt={__name:"Index",setup(st){const i=g([]),p=g({}),d=g(!1),f=g(!1),j=g(!1),q=g(!1),h=g({}),s=g({search:"",status:"",type:"",priority:"",date_from:"",date_to:""}),w=oe(()=>Object.values(s.value).some(o=>o!=="")),E=[{key:"id",label:"ID",sortable:!0},{key:"title",label:"Title",sortable:!0},{key:"type",label:"Type",sortable:!0},{key:"target_value",label:"Target",type:"currency",sortable:!0},{key:"progress",label:"Progress",sortable:!0},{key:"priority",label:"Priority",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"target_date",label:"Target Date",type:"date",sortable:!0}],V=[{value:"not_started",label:"Not Started"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"}],G=[{value:"sales",label:"Sales"},{value:"revenue",label:"Revenue"},{value:"expense",label:"Expense"},{value:"task",label:"Task"},{value:"content",label:"Content"},{value:"other",label:"Other"}],B=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}],A=[{name:"title",label:"Title",type:"text",required:!0},{name:"description",label:"Description",type:"textarea",required:!1},{name:"type",label:"Type",type:"select",required:!0,options:G},{name:"target_value",label:"Target Value",type:"number",required:!0,min:0,step:.01},{name:"current_value",label:"Current Value",type:"number",required:!1,min:0,step:.01},{name:"budget",label:"Budget ($)",type:"number",required:!1,min:0,step:.01},{name:"labor_hours",label:"Labor Hours",type:"number",required:!1,min:0,step:.01},{name:"target_date",label:"Target Date",type:"date",required:!0},{name:"priority",label:"Priority",type:"select",required:!0,options:B},{name:"status",label:"Status",type:"select",required:!0,options:V},{name:"category",label:"Category",type:"text",required:!1},{name:"notes",label:"Notes",type:"textarea",required:!1},{name:"is_recurring",label:"Recurring",type:"checkbox",required:!1},{name:"recurring_frequency",label:"Frequency",type:"select",required:!1,options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}]}],$=[{value:"not_started",label:"Not Started"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"}],b=()=>{d.value=!0,c.get("/goals",s.value,{preserveState:!0,onSuccess:o=>{p.value=o.props.goals,i.value=o.props.goals.data||o.props.goals,d.value=!1},onError:o=>{console.error("Error fetching goals:",o),d.value=!1}})},k=()=>{c.visit("/goals/create")},z=o=>{c.visit(`/goals/${o.id}/edit`)},U=o=>{c.visit(`/goals/${o.id}`)},I=o=>{confirm("Are you sure you want to delete this goal?")&&c.delete(`/goals/${o.id}`,{onSuccess:()=>b(),onError:t=>console.error("Error deleting goal:",t)})},L=()=>{clearTimeout(window.searchTimeout),window.searchTimeout=setTimeout(()=>{_()},300)},v=()=>{_()},_=()=>{b()},H=o=>{d.value=!0,q.value?c.put(`/goals/${h.value.id}`,o,{onSuccess:()=>{b(),C()},onError:t=>{formModal.value&&formModal.value.setErrors(t),d.value=!1}}):c.post("/goals",o,{onSuccess:()=>{b(),C()},onError:t=>{formModal.value&&formModal.value.setErrors(t),d.value=!1}})},C=()=>{j.value=!1,h.value={},formModal.value&&formModal.value.resetForm()},D=()=>{s.value={search:"",status:"",type:"",priority:"",date_from:"",date_to:""},b()},O=o=>{c.visit(o,{preserveState:!0,preserveScroll:!0,only:["goals","filters"]})},R=()=>i.value.filter(o=>o.status==="completed").length,W=()=>i.value.filter(o=>o.status==="in_progress").length,Y=()=>i.value.reduce((o,t)=>o+parseFloat(t.target_value||0),0).toFixed(2),J=o=>parseFloat(o).toFixed(2),K=o=>o?new Date(o).toLocaleDateString():"N/A",Q=o=>o.charAt(0).toUpperCase()+o.slice(1).replace("_"," "),X=o=>o.charAt(0).toUpperCase()+o.slice(1).replace("_"," "),Z=o=>o.charAt(0).toUpperCase()+o.slice(1),ee=o=>({not_started:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",te=o=>({sales:"bg-purple-100 text-purple-800",revenue:"bg-green-100 text-green-800",expense:"bg-red-100 text-red-800",task:"bg-blue-100 text-blue-800",content:"bg-orange-100 text-orange-800",other:"bg-gray-100 text-gray-800"})[o]||"bg-gray-100 text-gray-800",le=o=>({low:"bg-gray-100 text-gray-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800";return se(()=>{b()}),(o,t)=>(a(),re(ne,null,{header:u(()=>[e("div",{class:"flex flex-col lg:flex-row lg:justify-between lg:items-start gap-4"},[t[8]||(t[8]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 leading-tight"}," Goals Management "),e("p",{class:"mt-1 text-sm text-gray-500"}," Set, track, and achieve your business goals ")],-1)),e("div",{class:"flex flex-col sm:flex-row sm:items-center sm:space-x-3 space-y-2 sm:space-y-0 mt-4 lg:mt-0"},[e("button",{onClick:k,class:"inline-flex items-center justify-center px-4 py-2 bg-indigo-600 border border-transparent rounded-lg font-medium text-sm text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-200 shadow-sm"},t[7]||(t[7]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),P(" New Goal ",-1)]))])])]),default:u(()=>[e("div",ge,[e("div",ce,[e("div",be,[e("div",me,[t[10]||(t[10]=e("div",{class:"flex-shrink-0"},[e("div",{class:"inline-flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])])],-1)),e("div",pe,[t[9]||(t[9]=e("p",{class:"text-sm font-medium text-blue-600"}," Total Goals ",-1)),e("p",fe,r(i.value.length),1)])])]),e("div",ve,[e("div",xe,[t[12]||(t[12]=e("div",{class:"flex-shrink-0"},[e("div",{class:"inline-flex items-center justify-center w-12 h-12 bg-green-100 rounded-full"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",ye,[t[11]||(t[11]=e("p",{class:"text-sm font-medium text-green-600"}," Completed ",-1)),e("p",he,r(R()),1)])])]),e("div",we,[e("div",ke,[t[14]||(t[14]=e("div",{class:"flex-shrink-0"},[e("div",{class:"inline-flex items-center justify-center w-12 h-12 bg-yellow-100 rounded-full"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])])],-1)),e("div",_e,[t[13]||(t[13]=e("p",{class:"text-sm font-medium text-yellow-600"}," In Progress ",-1)),e("p",Ce,r(W()),1)])])]),e("div",Se,[e("div",Me,[t[16]||(t[16]=e("div",{class:"flex-shrink-0"},[e("div",{class:"inline-flex items-center justify-center w-12 h-12 bg-purple-100 rounded-full"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",Te,[t[15]||(t[15]=e("p",{class:"text-sm font-medium text-purple-600"}," Total Target ",-1)),e("p",Fe," $"+r(Y()),1)])])])]),e("div",je,[t[28]||(t[28]=e("div",{class:"bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-4"},[e("h2",{class:"text-xl font-semibold text-white"}," Search & Filter ")],-1)),e("div",qe,[e("div",Ve,[e("div",Ge,[t[18]||(t[18]=e("label",{for:"search",class:"block text-sm font-medium text-gray-700 mb-1"}," Search goals ",-1)),e("div",Be,[t[17]||(t[17]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),m(e("input",{id:"search","onUpdate:modelValue":t[0]||(t[0]=l=>s.value.search=l),type:"text",placeholder:"Search by title, description, or category...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors duration-200",onInput:L,"aria-describedby":"search-description"},null,544),[[M,s.value.search]])]),t[19]||(t[19]=e("p",{id:"search-description",class:"mt-1 text-xs text-gray-500"}," Search by title, description, category, or notes ",-1))]),e("div",null,[t[21]||(t[21]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700 mb-1"}," Status ",-1)),m(e("select",{id:"status","onUpdate:modelValue":t[1]||(t[1]=l=>s.value.status=l),class:"block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:v},[t[20]||(t[20]=e("option",{value:""},"All Status",-1)),(a(),n(x,null,y(V,l=>e("option",{key:l.value,value:l.value},r(l.label),9,De)),64))],544),[[T,s.value.status]])]),e("div",null,[t[23]||(t[23]=e("label",{for:"type",class:"block text-sm font-medium text-gray-700 mb-1"}," Type ",-1)),m(e("select",{id:"type","onUpdate:modelValue":t[2]||(t[2]=l=>s.value.type=l),class:"block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:v},[t[22]||(t[22]=e("option",{value:""},"All Types",-1)),(a(),n(x,null,y(G,l=>e("option",{key:l.value,value:l.value},r(l.label),9,Ne)),64))],544),[[T,s.value.type]])])]),e("div",Pe,[e("button",{onClick:t[3]||(t[3]=l=>f.value=!f.value),class:"text-sm text-blue-600 hover:text-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200","aria-expanded":f.value},r(f.value?"Hide":"Show")+" advanced filters ",9,Ee)]),f.value?(a(),n("div",Ae,[e("div",null,[t[25]||(t[25]=e("label",{for:"priority",class:"block text-sm font-medium text-gray-700 mb-1"}," Priority ",-1)),m(e("select",{id:"priority","onUpdate:modelValue":t[4]||(t[4]=l=>s.value.priority=l),class:"block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:v},[t[24]||(t[24]=e("option",{value:""},"All Priorities",-1)),(a(),n(x,null,y(B,l=>e("option",{key:l.value,value:l.value},r(l.label),9,$e)),64))],544),[[T,s.value.priority]])]),e("div",null,[t[26]||(t[26]=e("label",{for:"date_from",class:"block text-sm font-medium text-gray-700 mb-1"}," Date From ",-1)),m(e("input",{id:"date_from","onUpdate:modelValue":t[5]||(t[5]=l=>s.value.date_from=l),type:"date",class:"block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:v},null,544),[[M,s.value.date_from]])]),e("div",null,[t[27]||(t[27]=e("label",{for:"date_to",class:"block text-sm font-medium text-gray-700 mb-1"}," Date To ",-1)),m(e("input",{id:"date_to","onUpdate:modelValue":t[6]||(t[6]=l=>s.value.date_to=l),type:"date",class:"block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:v},null,544),[[M,s.value.date_to]])])])):N("",!0),e("div",ze,[e("button",{onClick:D,disabled:!w.value,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200","aria-label":"Clear all filters"}," Clear Filters ",8,Ue),e("button",{onClick:_,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 shadow-sm","aria-label":"Apply filters"}," Apply Filters ")])])]),d.value&&i.value.length===0?(a(),n("div",Ie,[e("div",Le,[t[29]||(t[29]=e("div",{class:"h-4 bg-gray-200 rounded w-1/4"},null,-1)),e("div",He,[(a(),n(x,null,y(5,l=>e("div",{key:l,class:"h-12 bg-gray-200 rounded"})),64))])])])):i.value.length===0&&!w.value?(a(),n("div",Oe,[t[31]||(t[31]=e("svg",{class:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),t[32]||(t[32]=e("h3",{class:"mt-2 text-lg font-medium text-gray-900"}," No goals yet ",-1)),t[33]||(t[33]=e("p",{class:"mt-1 text-sm text-gray-500"}," Get started by creating your first goal. ",-1)),e("div",{class:"mt-6"},[e("button",{onClick:k,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200","aria-label":"Create new goal"},t[30]||(t[30]=[e("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),P(" New Goal ",-1)]))])])):i.value.length===0&&w.value?(a(),n("div",Re,[t[34]||(t[34]=e("svg",{class:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),t[35]||(t[35]=e("h3",{class:"mt-2 text-lg font-medium text-gray-900"}," No goals found ",-1)),t[36]||(t[36]=e("p",{class:"mt-1 text-sm text-gray-500"}," Try adjusting your search criteria or clear filters. ",-1)),e("div",{class:"mt-6"},[e("button",{onClick:D,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200","aria-label":"Clear filters"}," Clear Filters ")])])):(a(),n("div",We,[t[39]||(t[39]=e("div",{class:"bg-gradient-to-r from-gray-700 to-gray-900 px-6 py-4"},[e("h2",{class:"text-xl font-semibold text-white"},"Goals List")],-1)),e("div",Ye,[d.value?(a(),n("div",Je,t[37]||(t[37]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)]))):N("",!0),S(ie,{data:i.value,columns:E,filters:$,onCreate:k,onView:U,onEdit:z,onDelete:I},{title:u(({item:l})=>[e("div",Ke,r(l.title),1)]),type:u(({item:l})=>[e("span",{class:F([te(l.type),"px-2 py-1 text-xs font-medium rounded-full"])},r(X(l.type)),3)]),status:u(({item:l})=>[e("span",{class:F([ee(l.status),"px-3 py-1 text-xs font-medium rounded-full"])},r(Q(l.status)),3)]),priority:u(({item:l})=>[e("span",{class:F([le(l.priority),"px-2 py-1 text-xs font-medium rounded-full"])},r(Z(l.priority)),3)]),target_value:u(({item:l})=>[e("span",Qe," $"+r(J(l.target_value)),1)]),progress:u(({item:l})=>[e("div",Xe,[e("div",Ze,[t[38]||(t[38]=e("span",{class:"text-xs text-gray-600"},"Progress",-1)),e("span",et,r(Math.round(l.progress/l.target_value*100))+"% ",1)]),e("div",tt,[e("div",{class:"bg-gradient-to-r from-blue-500 to-indigo-600 h-2 rounded-full transition-all duration-300",style:ae({width:`${Math.min(l.progress/l.target_value*100,100)}%`})},null,4)])])]),target_date:u(({item:l})=>[e("div",lt,r(K(l.target_date)),1)]),_:1},8,["data"])]),e("div",ot,[S(de,{links:p.value.links,from:p.value.from,to:p.value.to,total:p.value.total,onNavigate:O,class:"bg-gray-50 px-6 py-3"},null,8,["links","from","to","total"])])]))]),S(ue,{show:j.value,title:q.value?"Edit Goal":"Create New Goal",fields:A,"initial-data":h.value,loading:d.value,onClose:C,onSubmit:H,ref:"formModal"},null,8,["show","title","initial-data","loading"])]),_:1}))}};export{gt as default};
