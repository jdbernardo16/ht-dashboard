import{m as j,s as D,d as S,o as r,w as _,e as t,t as o,c as l,i,F as T,y as A,n,G as B,q as g}from"./app-DMsrlBw0.js";import{_ as P}from"./AuthenticatedLayout-CoyhxnNm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},F={class:"p-6 text-gray-900"},$={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},E={class:"md:col-span-2"},L={role:"group","aria-labelledby":"task-info-heading",class:"bg-white rounded-lg border border-gray-100 p-6 shadow-sm"},M={class:"grid grid-cols-1 gap-4"},q={class:"flex flex-col"},z={class:"mt-1 text-xl font-bold text-gray-900 break-words"},G={class:"flex flex-col"},O={class:"mt-1 text-sm text-gray-700"},V={class:"flex flex-col"},H={class:"mt-1 text-sm text-gray-700"},I={class:"flex flex-col"},J={class:"mt-2"},R={class:"flex flex-wrap gap-2"},K={key:0,class:"text-sm text-gray-500"},Q={class:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},W={key:0,class:"bg-gray-50 rounded-lg p-4 border border-gray-100"},X={class:"text-sm font-medium text-gray-900"},Y={class:"text-xs text-gray-600 mt-1"},Z={class:"mt-3"},tt={key:1,class:"bg-gray-50 rounded-lg p-4 border border-gray-100"},et={class:"text-sm font-medium text-gray-900"},st={class:"text-xs text-gray-600 mt-1"},at={class:"mt-3"},ot={class:"md:col-span-1"},rt={role:"group","aria-labelledby":"task-meta-heading",class:"sticky top-24 bg-white rounded-lg border border-gray-100 p-4 shadow-sm"},dt={class:"grid grid-cols-1 gap-3 text-sm text-gray-700"},lt={class:"flex justify-between items-start"},it={class:"flex justify-between items-start"},nt={class:"flex justify-between items-start"},ut={class:"text-right text-gray-900"},ct={class:"flex justify-between items-start"},gt={class:"text-right text-gray-900"},xt={class:"flex justify-between items-start"},mt={class:"text-right text-gray-900"},yt={class:"flex justify-between items-start"},_t={class:"text-right text-gray-900"},ft={class:"flex justify-between items-start"},pt={class:"text-right text-gray-900"},vt={class:"col-span-1"},bt={class:"mt-1"},ht={class:"w-full bg-gray-200 rounded-full h-2 overflow-hidden"},wt={class:"text-xs text-gray-600 mt-1 text-right"},kt={class:"flex justify-between items-start"},Ct={class:"text-right text-gray-900"},Nt={class:"flex justify-between items-start"},jt={class:"text-right text-gray-900"},Dt={class:"flex justify-between items-start"},St={class:"text-right text-gray-900"},Tt={key:0,class:"flex justify-between items-start"},At={class:"text-right text-gray-900"},Bt={class:"mt-8 border-t pt-6"},Pt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ut={key:0},Ft={class:"bg-gray-50 rounded-lg p-4"},$t={class:"font-medium text-gray-900"},Et={class:"text-sm text-gray-600 mt-1"},Lt={class:"mt-2"},Mt={key:1},qt={class:"bg-gray-50 rounded-lg p-4"},zt={class:"font-medium text-gray-900"},Gt={class:"text-sm text-gray-600 mt-1"},Ot={class:"mt-2"},Jt={__name:"Show",props:{task:{type:Object,required:!0}},setup(f){const x=f,s=j({}),p=()=>{s.value=x.task},v=()=>{g.visit(`/tasks/${x.task.id}/edit`)},b=()=>{confirm("Are you sure you want to delete this task?")&&g.delete(`/tasks/${x.task.id}`,{onSuccess:()=>{g.visit("/tasks")}})},h=()=>{g.visit("/tasks")},w=a=>a?new Date(a).toLocaleDateString():"No due date",m=a=>a?new Date(a).toLocaleString():"N/A",u=a=>a?a.charAt(0).toUpperCase()+a.slice(1).replace("_"," "):"Unknown",k=a=>a?a.charAt(0).toUpperCase()+a.slice(1):"Unknown",C=a=>{if(!a)return[];if(Array.isArray(a))return a;if(typeof a=="string")try{const e=JSON.parse(a);return Array.isArray(e)?e:[]}catch{return a.split(",").map(d=>d.trim()).filter(d=>d)}return[]},c=a=>({pending:"bg-yellow-100 text-yellow-800",not_started:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800",N=a=>({low:"bg-gray-100 text-gray-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800",y=a=>{if(a.status==="completed")return 100;if(a.status==="cancelled"||a.status==="not_started")return 0;const e=parseFloat(a.estimated_hours)||0,d=parseFloat(a.actual_hours)||0;return e===0?0:Math.min(Math.round(d/e*100),100)};return D(()=>{p()}),(a,e)=>(r(),S(P,null,{header:_(()=>[t("div",{class:"flex flex-col md:flex-row md:justify-between md:items-center gap-4"},[e[0]||(e[0]=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Task Details ",-1)),t("div",{class:"flex flex-col sm:flex-row sm:items-center sm:space-x-2 space-y-2 sm:space-y-0 mt-2 md:mt-0"},[t("button",{onClick:v,class:"inline-flex items-center px-4 py-2 bg-yellow-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-yellow-700 focus:bg-yellow-700 active:bg-yellow-900 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Edit "),t("button",{onClick:b,class:"inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 focus:bg-red-700 active:bg-red-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Delete "),t("button",{onClick:h,class:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Back ")])])]),default:_(()=>[t("div",U,[t("div",F,[t("div",$,[t("div",E,[t("section",L,[e[5]||(e[5]=t("h3",{id:"task-info-heading",class:"text-lg font-semibold text-gray-900 mb-4"}," Task Information ",-1)),t("dl",M,[t("div",q,[e[1]||(e[1]=t("dt",{class:"text-sm font-medium text-gray-500"}," Title ",-1)),t("dd",z,o(s.value.title),1)]),t("div",G,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500"}," Description ",-1)),t("dd",O,o(s.value.description||"No description provided"),1)]),t("div",V,[e[3]||(e[3]=t("dt",{class:"text-sm font-medium text-gray-500"}," Notes ",-1)),t("dd",H,o(s.value.notes||"No notes provided"),1)]),t("div",I,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500"}," Tags ",-1)),t("dd",J,[t("div",R,[(r(!0),l(T,null,A(C(s.value.tags),d=>(r(),l("span",{key:d,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},o(d),1))),128)),!s.value.tags||s.value.tags.length===0?(r(),l("span",K," No tags ")):i("",!0)])])])])]),t("div",Q,[s.value.related_goal?(r(),l("div",W,[t("h4",X,o(s.value.related_goal.title),1),t("p",Y,o(s.value.related_goal.description||"No description"),1),t("div",Z,[t("span",{class:n([c(s.value.related_goal.status),"px-2 py-1 text-xs font-medium rounded-full"])},o(u(s.value.related_goal.status)),3)])])):i("",!0),s.value.parent_task?(r(),l("div",tt,[t("h4",et,o(s.value.parent_task.title),1),t("p",st,o(s.value.parent_task.description||"No description"),1),t("div",at,[t("span",{class:n([c(s.value.parent_task.status),"px-2 py-1 text-xs font-medium rounded-full"])},o(u(s.value.parent_task.status)),3)])])):i("",!0)])]),t("aside",ot,[t("section",rt,[e[18]||(e[18]=t("h3",{id:"task-meta-heading",class:"text-sm font-semibold text-gray-900 mb-4"}," Task Details ",-1)),t("dl",dt,[t("div",lt,[e[6]||(e[6]=t("dt",{class:"text-gray-500"},"Status",-1)),t("dd",null,[t("span",{class:n([c(s.value.status),"px-2 py-1 text-xs font-medium rounded-full"])},o(u(s.value.status)),3)])]),t("div",it,[e[7]||(e[7]=t("dt",{class:"text-gray-500"},"Priority",-1)),t("dd",null,[t("span",{class:n([N(s.value.priority),"px-2 py-1 text-xs font-medium rounded-full"])},o(k(s.value.priority)),3)])]),t("div",nt,[e[8]||(e[8]=t("dt",{class:"text-gray-500"},"Due",-1)),t("dd",ut,o(w(s.value.due_date)),1)]),t("div",ct,[e[9]||(e[9]=t("dt",{class:"text-gray-500"},"Assigned",-1)),t("dd",gt,o(s.value.assigned_to_user?.name||"Unassigned"),1)]),t("div",xt,[e[10]||(e[10]=t("dt",{class:"text-gray-500"},"Category",-1)),t("dd",mt,o(s.value.category||"No category"),1)]),t("div",yt,[e[11]||(e[11]=t("dt",{class:"text-gray-500"},"Est. Hours",-1)),t("dd",_t,o(s.value.estimated_hours||0)+"h ",1)]),t("div",ft,[e[12]||(e[12]=t("dt",{class:"text-gray-500"},"Actual",-1)),t("dd",pt,o(s.value.actual_hours||0)+"h ",1)]),t("div",vt,[e[13]||(e[13]=t("dt",{class:"text-gray-500"},"Progress",-1)),t("dd",bt,[t("div",ht,[t("div",{class:"bg-blue-600 h-2 rounded-full",style:B(`width: ${y(s.value)}%`)},null,4)]),t("div",wt,o(y(s.value))+"% complete ",1)])]),t("div",kt,[e[14]||(e[14]=t("dt",{class:"text-gray-500"},"Created By",-1)),t("dd",Ct,o(s.value.user?.name||"System"),1)]),t("div",Nt,[e[15]||(e[15]=t("dt",{class:"text-gray-500"},"Created",-1)),t("dd",jt,o(m(s.value.created_at)),1)]),t("div",Dt,[e[16]||(e[16]=t("dt",{class:"text-gray-500"},"Updated",-1)),t("dd",St,o(m(s.value.updated_at)),1)]),s.value.completed_at?(r(),l("div",Tt,[e[17]||(e[17]=t("dt",{class:"text-gray-500"},"Completed",-1)),t("dd",At,o(m(s.value.completed_at)),1)])):i("",!0)])])])]),t("div",Bt,[t("div",Pt,[s.value.related_goal?(r(),l("div",Ut,[e[19]||(e[19]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Related Goal ",-1)),t("div",Ft,[t("h4",$t,o(s.value.related_goal.title),1),t("p",Et,o(s.value.related_goal.description||"No description"),1),t("div",Lt,[t("span",{class:n([c(s.value.related_goal.status),"px-2 py-1 text-xs font-medium rounded-full"])},o(u(s.value.related_goal.status)),3)])])])):i("",!0),s.value.parent_task?(r(),l("div",Mt,[e[20]||(e[20]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Parent Task ",-1)),t("div",qt,[t("h4",zt,o(s.value.parent_task.title),1),t("p",Gt,o(s.value.parent_task.description||"No description"),1),t("div",Ot,[t("span",{class:n([c(s.value.parent_task.status),"px-2 py-1 text-xs font-medium rounded-full"])},o(u(s.value.parent_task.status)),3)])])])):i("",!0)])])])])]),_:1}))}};export{Jt as default};
