import{m as N,x as A,d as B,o as a,w as v,e as t,c as i,i as d,n as l,t as r,G as D,F as M,z as S,g as c,s as g}from"./app-CxJ0vpa7.js";import{_ as V}from"./AuthenticatedLayout-Bp61g_Pn.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"flex flex-col lg:flex-row lg:justify-between lg:items-start gap-4"},z={class:"text-2xl font-bold text-gray-900 leading-tight"},H={class:"mt-1 text-sm text-gray-500"},U={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},L={class:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-6 mb-8 border border-indigo-100"},F={class:"flex flex-wrap items-center justify-between gap-4"},G={class:"flex flex-wrap items-center gap-4"},$={class:"flex items-center space-x-2"},E={class:"flex items-center space-x-2"},I={key:0,class:"flex items-center space-x-2"},O={class:"text-sm text-gray-600"},R={class:"flex items-center space-x-2"},q={class:"flex items-center space-x-2"},J={class:"w-32 bg-gray-200 rounded-full h-2"},K={class:"text-sm font-medium text-gray-900"},Q={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},W={class:"lg:col-span-2 space-y-8"},X={class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},Y={class:"p-6"},Z={class:"space-y-6"},tt={class:"text-gray-900 leading-relaxed"},et={key:0},st={class:"text-gray-900 leading-relaxed bg-gray-50 p-4 rounded-lg"},ot={key:1},rt={class:"flex flex-wrap gap-2"},at={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},it={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},dt={class:"p-6"},nt={class:"font-semibold text-gray-900 mb-2"},lt={class:"text-sm text-gray-600 mb-4"},ut={class:"flex items-center justify-between"},mt={key:1,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},ct={class:"p-6"},gt={class:"font-semibold text-gray-900 mb-2"},xt={class:"text-sm text-gray-600 mb-4"},pt={class:"flex items-center justify-between"},ft={class:"lg:col-span-1 space-y-6"},yt={class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden sticky top-6"},vt={class:"p-6"},_t={class:"space-y-4"},bt={class:"flex justify-between items-center py-3 border-b border-gray-100"},ht={class:"text-sm font-medium text-gray-900"},wt={class:"flex justify-between items-center py-3 border-b border-gray-100"},kt={class:"text-sm font-medium text-gray-900"},jt={class:"flex justify-between items-center py-3 border-b border-gray-100"},Ct={class:"text-sm font-medium text-gray-900"},Tt={class:"flex justify-between items-center py-3 border-b border-gray-100"},Nt={class:"text-sm font-medium text-gray-900"},At={class:"flex justify-between items-center py-3 border-b border-gray-100"},Bt={class:"text-sm font-medium text-gray-900"},Dt={class:"flex justify-between items-center py-3 border-b border-gray-100"},Mt={class:"text-sm font-medium text-gray-900"},St={class:"flex justify-between items-center py-3"},Vt={class:"text-sm font-medium text-gray-900"},Pt={key:0,class:"flex justify-between items-center py-3 bg-green-50 rounded-lg px-3"},zt={class:"text-sm font-medium text-green-900"},Ht={class:"mt-8 border-t pt-6"},Ut={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Lt={key:0},Ft={class:"bg-gray-50 rounded-lg p-4"},Gt={class:"font-medium text-gray-900"},$t={class:"text-sm text-gray-600 mt-1"},Et={class:"mt-2"},It={key:1},Ot={class:"bg-gray-50 rounded-lg p-4"},Rt={class:"font-medium text-gray-900"},qt={class:"text-sm text-gray-600 mt-1"},Jt={class:"mt-2"},Xt={__name:"Show",props:{task:{type:Object,required:!0}},setup(_){const x=_,s=N({}),b=()=>{s.value=x.task},h=()=>{g.visit(`/tasks/${x.task.id}/edit`)},w=()=>{confirm("Are you sure you want to delete this task?")&&g.delete(`/tasks/${x.task.id}`,{onSuccess:()=>{g.visit("/tasks")}})},k=()=>{g.visit("/tasks")},f=o=>o?new Date(o).toLocaleDateString():"No due date",p=o=>o?new Date(o).toLocaleString():"N/A",u=o=>o?o.charAt(0).toUpperCase()+o.slice(1).replace("_"," "):"Unknown",j=o=>o?o.charAt(0).toUpperCase()+o.slice(1):"Unknown",C=o=>{if(!o)return[];if(Array.isArray(o))return o;if(typeof o=="string")try{const e=JSON.parse(o);return Array.isArray(e)?e:[]}catch{return o.split(",").map(n=>n.trim()).filter(n=>n)}return[]},m=o=>({pending:"bg-yellow-100 text-yellow-800",not_started:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",T=o=>({low:"bg-gray-100 text-gray-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",y=o=>{if(o.status==="completed")return 100;if(o.status==="cancelled"||o.status==="not_started")return 0;const e=parseFloat(o.estimated_hours)||0,n=parseFloat(o.actual_hours)||0;return e===0?0:Math.min(Math.round(n/e*100),100)};return A(()=>{b()}),(o,e)=>(a(),B(V,null,{header:v(()=>[t("div",P,[t("div",null,[t("h1",z,r(s.value.title),1),t("p",H," Task ID: #"+r(s.value.id)+" • Created "+r(f(s.value.created_at)),1)]),t("div",{class:"flex flex-col sm:flex-row sm:items-center sm:space-x-3 space-y-2 sm:space-y-0 mt-4 lg:mt-0"},[t("button",{onClick:h,class:"inline-flex items-center justify-center px-4 py-2 bg-indigo-600 border border-transparent rounded-lg font-medium text-sm text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-200 shadow-sm"},e[0]||(e[0]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),c(" Edit Task ",-1)])),t("button",{onClick:w,class:"inline-flex items-center justify-center px-4 py-2 bg-red-600 border border-transparent rounded-lg font-medium text-sm text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-all duration-200 shadow-sm"},e[1]||(e[1]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),c(" Delete ",-1)])),t("button",{onClick:k,class:"inline-flex items-center justify-center px-4 py-2 bg-white border border-gray-300 rounded-lg font-medium text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200"},e[2]||(e[2]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),c(" Back ",-1)]))])])]),default:v(()=>[t("div",U,[t("div",L,[t("div",F,[t("div",G,[t("div",$,[e[3]||(e[3]=t("span",{class:"text-sm font-medium text-gray-600"},"Status:",-1)),t("span",{class:l([m(s.value.status),"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium"])},r(u(s.value.status)),3)]),t("div",E,[e[4]||(e[4]=t("span",{class:"text-sm font-medium text-gray-600"},"Priority:",-1)),t("span",{class:l([T(s.value.priority),"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium"])},r(j(s.value.priority)),3)]),s.value.due_date?(a(),i("div",I,[e[5]||(e[5]=t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t("span",O,"Due: "+r(f(s.value.due_date)),1)])):d("",!0)]),t("div",R,[e[6]||(e[6]=t("div",{class:"text-sm text-gray-600"},"Progress:",-1)),t("div",q,[t("div",J,[t("div",{class:"bg-gradient-to-r from-indigo-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:D(`width: ${y(s.value)}%`)},null,4)]),t("span",K,r(y(s.value))+"%",1)])])])]),t("div",Q,[t("div",W,[t("div",X,[e[11]||(e[11]=t("div",{class:"bg-gradient-to-r from-indigo-500 to-purple-600 px-6 py-4"},[t("h2",{class:"text-xl font-semibold text-white"}," Task Information ")],-1)),t("div",Y,[t("dl",Z,[t("div",null,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-gray-500 mb-2"}," Description ",-1)),t("dd",tt,r(s.value.description||"No description provided"),1)]),s.value.notes?(a(),i("div",et,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-gray-500 mb-2"}," Notes ",-1)),t("dd",st,r(s.value.notes),1)])):d("",!0),s.value.tags&&s.value.tags.length>0?(a(),i("div",ot,[e[10]||(e[10]=t("dt",{class:"text-sm font-medium text-gray-500 mb-3"}," Tags ",-1)),t("dd",rt,[(a(!0),i(M,null,S(C(s.value.tags),n=>(a(),i("span",{key:n,class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800 border border-indigo-200"},[e[9]||(e[9]=t("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})],-1)),c(" "+r(n),1)]))),128))])])):d("",!0)])])]),s.value.related_goal||s.value.parent_task?(a(),i("div",at,[s.value.related_goal?(a(),i("div",it,[e[13]||(e[13]=t("div",{class:"bg-gradient-to-r from-green-500 to-teal-600 px-6 py-4"},[t("h3",{class:"text-lg font-semibold text-white"}," Related Goal ")],-1)),t("div",dt,[t("h4",nt,r(s.value.related_goal.title),1),t("p",lt,r(s.value.related_goal.description||"No description"),1),t("div",ut,[t("span",{class:l([m(s.value.related_goal.status),"px-3 py-1 text-xs font-medium rounded-full"])},r(u(s.value.related_goal.status)),3),e[12]||(e[12]=t("button",{class:"text-indigo-600 hover:text-indigo-800 text-sm font-medium"}," View Goal → ",-1))])])])):d("",!0),s.value.parent_task?(a(),i("div",mt,[e[15]||(e[15]=t("div",{class:"bg-gradient-to-r from-yellow-500 to-orange-600 px-6 py-4"},[t("h3",{class:"text-lg font-semibold text-white"}," Parent Task ")],-1)),t("div",ct,[t("h4",gt,r(s.value.parent_task.title),1),t("p",xt,r(s.value.parent_task.description||"No description"),1),t("div",pt,[t("span",{class:l([m(s.value.parent_task.status),"px-3 py-1 text-xs font-medium rounded-full"])},r(u(s.value.parent_task.status)),3),e[14]||(e[14]=t("button",{class:"text-indigo-600 hover:text-indigo-800 text-sm font-medium"}," View Task → ",-1))])])])):d("",!0)])):d("",!0)]),t("div",ft,[t("div",yt,[e[24]||(e[24]=t("div",{class:"bg-gradient-to-r from-gray-700 to-gray-900 px-6 py-4"},[t("h3",{class:"text-lg font-semibold text-white"}," Task Details ")],-1)),t("div",vt,[t("dl",_t,[t("div",bt,[e[16]||(e[16]=t("dt",{class:"text-sm font-medium text-gray-500"}," Assigned To ",-1)),t("dd",ht,r(s.value.assigned_to_user?.name||"Unassigned"),1)]),t("div",wt,[e[17]||(e[17]=t("dt",{class:"text-sm font-medium text-gray-500"}," Category ",-1)),t("dd",kt,r(s.value.category||"No category"),1)]),t("div",jt,[e[18]||(e[18]=t("dt",{class:"text-sm font-medium text-gray-500"}," Est. Hours ",-1)),t("dd",Ct,r(s.value.estimated_hours||0)+"h ",1)]),t("div",Tt,[e[19]||(e[19]=t("dt",{class:"text-sm font-medium text-gray-500"}," Actual Hours ",-1)),t("dd",Nt,r(s.value.actual_hours||0)+"h ",1)]),t("div",At,[e[20]||(e[20]=t("dt",{class:"text-sm font-medium text-gray-500"}," Created By ",-1)),t("dd",Bt,r(s.value.user?.name||"System"),1)]),t("div",Dt,[e[21]||(e[21]=t("dt",{class:"text-sm font-medium text-gray-500"}," Created ",-1)),t("dd",Mt,r(p(s.value.created_at)),1)]),t("div",St,[e[22]||(e[22]=t("dt",{class:"text-sm font-medium text-gray-500"}," Updated ",-1)),t("dd",Vt,r(p(s.value.updated_at)),1)]),s.value.completed_at?(a(),i("div",Pt,[e[23]||(e[23]=t("dt",{class:"text-sm font-medium text-green-700"}," Completed ",-1)),t("dd",zt,r(p(s.value.completed_at)),1)])):d("",!0)])])])])])]),t("div",Ht,[t("div",Ut,[s.value.related_goal?(a(),i("div",Lt,[e[25]||(e[25]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Related Goal ",-1)),t("div",Ft,[t("h4",Gt,r(s.value.related_goal.title),1),t("p",$t,r(s.value.related_goal.description||"No description"),1),t("div",Et,[t("span",{class:l([m(s.value.related_goal.status),"px-2 py-1 text-xs font-medium rounded-full"])},r(u(s.value.related_goal.status)),3)])])])):d("",!0),s.value.parent_task?(a(),i("div",It,[e[26]||(e[26]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Parent Task ",-1)),t("div",Ot,[t("h4",Rt,r(s.value.parent_task.title),1),t("p",qt,r(s.value.parent_task.description||"No description"),1),t("div",Jt,[t("span",{class:l([m(s.value.parent_task.status),"px-2 py-1 text-xs font-medium rounded-full"])},r(u(s.value.parent_task.status)),3)])])])):d("",!0)])])]),_:1}))}};export{Xt as default};
