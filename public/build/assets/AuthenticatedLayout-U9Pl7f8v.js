import{E as T,j as L,x as E,k as K,I as W,c as r,o as s,e,a as C,i as p,w as S,u as k,l as V,n as _,F as H,z as O,t as v,m as $,D as B,y as Y,K as Q,g as Z,r as R}from"./app-B2jK0_72.js";const ee={class:"relative overflow-hidden"},te={class:"relative flex h-20 items-center justify-between px-6"},oe={key:0,class:"space-y-1"},re={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"},se={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"},ae={class:"flex-1 space-y-2 px-4 py-6 overflow-y-auto"},ne={class:"relative flex-shrink-0"},ie={key:0,class:"absolute inset-0 bg-white/20 rounded-lg blur-sm"},le=["d"],de={key:0,class:"flex-1 min-w-0"},ce={class:"truncate font-semibold"},ue={key:0,class:"text-xs opacity-80 mt-0.5"},he={key:1,class:"flex-shrink-0"},ge={class:"relative"},ve={class:"relative border-t border-gray-700 p-6"},fe={class:"bg-gradient-to-r from-gray-700/50 to-gray-600/50 rounded-xl p-4 backdrop-blur-sm border border-gray-600/30"},me={class:"flex items-center space-x-4"},pe={class:"relative flex-shrink-0"},xe={class:"h-12 w-12 rounded-xl bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center shadow-lg"},be={class:"text-lg font-bold text-white"},ye={key:0,class:"flex-1 min-w-0"},we={class:"text-sm font-semibold text-white truncate"},ke={class:"text-xs text-gray-300 truncate"},_e={class:"mt-2"},$e={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-500/20 text-indigo-300 border border-indigo-500/30"},Me={class:"mt-4 space-y-2"},Ce=["d"],Se={key:0,class:"truncate font-medium"},D={__name:"Sidebar",props:{isOpen:{type:Boolean,default:!0},isMobile:{type:Boolean,default:!1}},emits:["toggle","close"],setup(o,{emit:u}){const c=T(),h=L(()=>{try{return c.props.auth?.user||null}catch(y){return console.error("Error accessing auth user:",y),null}});E(()=>{console.log("Sidebar mounted - client side hydration"),console.log("Current route:",route().current()),console.log("User auth state:",!!h.value)});const f=typeof window<"u";if(!f){console.log("Sidebar executing in SSR mode");try{console.log("Current route (SSR):",route?.()?.current()),console.log("User auth state (SSR):",!!h?.value)}catch(y){console.error("SSR context error:",y)}}const x=o,w=u,b=L(()=>{if(!route)return console.error("Route helper not available"),[];const y=[{name:"Dashboard",href:route?.("dashboard")||"#",icon:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z",active:route().current("dashboard"),color:"blue"},{name:"Tasks",href:route("tasks.web.index"),icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",active:route().current("tasks.web.*"),color:"green"},{name:"Sales",href:route("sales.web.index"),icon:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",active:route().current("sales.web.*"),color:"yellow"},{name:"Clients",href:route("clients.web.index"),icon:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z",active:route().current("clients.web.*"),color:"purple"},{name:"Content Posts",href:route("content.web.index"),icon:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z",active:route().current("content.web.*"),color:"pink"},{name:"Expenses",href:route("expenses.web.index"),icon:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z",active:route().current("expenses.web.*"),color:"red"},{name:"Goals",href:route("goals.web.index"),icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",active:route().current("goals.web.*"),color:"indigo"},{name:"Notifications",href:route("notifications.index"),icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:route().current("notifications.*"),color:"orange"}],i=[];return h.value.role==="admin"&&i.push({name:"Admin Dashboard",href:route("admin.dashboard"),icon:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z",active:route().current("admin.dashboard"),color:"emerald"}),(h.value.role==="manager"||h.value.role==="admin")&&i.push({name:"Manager Dashboard",href:route("manager.dashboard"),icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",active:route().current("manager.dashboard"),color:"cyan"}),h.value.role==="va"&&i.push({name:"VA Dashboard",href:route("va.dashboard"),icon:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z",active:route().current("va.dashboard"),color:"teal"}),[...i,...y]}),m=[{name:"Profile",href:route?.("profile.edit")||"#",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:route().current("profile.edit"),color:"gray"}],t=()=>{w("toggle")},a=()=>{x.isMobile&&w("close")},M=(y,i)=>{const d={blue:i?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25":"text-gray-300 hover:bg-gradient-to-r hover:from-blue-50 hover:to-blue-100 hover:text-blue-700 group",green:i?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg shadow-green-500/25":"text-gray-300 hover:bg-gradient-to-r hover:from-green-50 hover:to-green-100 hover:text-green-700 group",yellow:i?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-lg shadow-yellow-500/25":"text-gray-300 hover:bg-gradient-to-r hover:from-yellow-50 hover:to-yellow-100 hover:text-yellow-700 group",purple:i?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg shadow-purple-500/25":"text-gray-300 hover:bg-gradient-to-r hover:from-purple-50 hover:to-purple-100 hover:text-purple-700 group",pink:i?"bg-gradient-to-r from-pink-500 to-pink-600 text-white shadow-lg shadow-pink-500/25":"text-gray-300 hover:bg-gradient-to-r hover:from-pink-50 hover:to-pink-100 hover:text-pink-700 group",red:i?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-lg shadow-red-500/25":"text-gray-300 hover:bg-gradient-to-r hover:from-red-50 hover:to-red-100 hover:text-red-700 group",indigo:i?"bg-gradient-to-r from-indigo-500 to-indigo-600 text-white shadow-lg shadow-indigo-500/25":"text-gray-300 hover:bg-gradient-to-r hover:from-indigo-50 hover:to-indigo-100 hover:text-indigo-700 group",orange:i?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/25":"text-gray-300 hover:bg-gradient-to-r hover:from-orange-50 hover:to-orange-100 hover:text-orange-700 group",emerald:i?"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-lg shadow-emerald-500/25":"text-gray-300 hover:bg-gradient-to-r hover:from-emerald-50 hover:to-emerald-100 hover:text-emerald-700 group",cyan:i?"bg-gradient-to-r from-cyan-500 to-cyan-600 text-white shadow-lg shadow-cyan-500/25":"text-gray-300 hover:bg-gradient-to-r hover:from-cyan-50 hover:to-cyan-100 hover:text-cyan-700 group",teal:i?"bg-gradient-to-r from-teal-500 to-teal-600 text-white shadow-lg shadow-teal-500/25":"text-gray-300 hover:bg-gradient-to-r hover:from-teal-50 hover:to-teal-100 hover:text-teal-700 group",gray:i?"bg-gradient-to-r from-gray-500 to-gray-600 text-white shadow-lg shadow-gray-500/25":"text-gray-300 hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100 hover:text-gray-700 group"};return d[y]||d.blue},N=(y,i)=>{if(i)return"text-white";const d={blue:"group-hover:text-blue-600",green:"group-hover:text-green-600",yellow:"group-hover:text-yellow-600",purple:"group-hover:text-purple-600",pink:"group-hover:text-pink-600",red:"group-hover:text-red-600",indigo:"group-hover:text-indigo-600",orange:"group-hover:text-orange-600",emerald:"group-hover:text-emerald-600",cyan:"group-hover:text-cyan-600",teal:"group-hover:text-teal-600",gray:"group-hover:text-gray-600"};return d[y]||d.blue};return(y,i)=>K((s(),r("aside",{class:_(["fixed inset-y-0 left-0 z-50 flex flex-col bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 text-white transition-all duration-300 ease-in-out shadow-2xl",o.isOpen?"w-72":"w-20",(o.isMobile,"translate-x-0"),!o.isOpen&&!o.isMobile?"-translate-x-full lg:translate-x-0 lg:w-20":""])},[e("div",ee,[i[1]||(i[1]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-600 opacity-90"},null,-1)),e("div",te,[C(k(V),{href:y.route("dashboard"),class:"flex items-center space-x-4 group",onClick:a},{default:S(()=>[o.isOpen?(s(),r("div",oe,i[0]||(i[0]=[e("h1",{class:"text-xl font-bold text-white leading-tight"}," Hidden Treasures ",-1),e("p",{class:"text-xs text-indigo-100"}," Business Dashboard ",-1)]))):p("",!0)]),_:1},8,["href"]),o.isMobile?p("",!0):(s(),r("button",{key:0,onClick:t,class:"rounded-lg p-2 text-white/80 hover:bg-white/20 hover:text-white transition-all duration-200"},[(s(),r("svg",{class:_(["h-5 w-5 transition-transform duration-200",o.isOpen?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o.isOpen?(s(),r("path",re)):(s(),r("path",se))],2))]))])]),e("nav",ae,[(s(!0),r(H,null,O(b.value,d=>(s(),r("div",{key:d.name,class:"group/nav-item"},[C(k(V),{href:d.href,class:_(["flex items-center space-x-4 rounded-xl px-4 py-3 text-sm font-medium transition-all duration-200 transform hover:scale-[1.02]",M(d.color,d.active),!o.isOpen&&"justify-center px-3"]),onClick:a},{default:S(()=>[e("div",ne,[d.active?(s(),r("div",ie)):p("",!0),(s(),r("svg",{class:_(["relative h-6 w-6 transition-all duration-200",N(d.color,d.active)]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:d.icon},null,8,le)],2))]),o.isOpen?(s(),r("div",de,[e("p",ce,v(d.name),1),d.active?(s(),r("p",ue," Currently viewing ")):p("",!0)])):p("",!0),o.isOpen&&d.active?(s(),r("div",he,i[2]||(i[2]=[e("div",{class:"w-2 h-2 bg-white rounded-full animate-pulse"},null,-1)]))):p("",!0)]),_:2},1032,["href","class"])]))),128))]),e("div",ge,[i[4]||(i[4]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-gray-900 to-gray-800"},null,-1)),e("div",ve,[e("div",fe,[e("div",me,[e("div",pe,[e("div",xe,[e("span",be,v(h.value?.name?.charAt(0)||"U"),1)]),i[3]||(i[3]=e("div",{class:"absolute -bottom-1 -right-1 h-4 w-4 bg-green-400 rounded-full border-2 border-gray-800"},null,-1))]),o.isOpen?(s(),r("div",ye,[e("p",we,v(h.value?.name||"User"),1),e("p",ke,v(h.value?.email||"user@example.com"),1),e("div",_e,[e("span",$e,v(h.value?.role?.charAt(0).toUpperCase()+h.value?.role?.slice(1)||"User"),1)])])):p("",!0)])]),e("div",Me,[(s(),r(H,null,O(m,d=>C(k(V),{key:d.name,href:d.href,class:_(["flex items-center space-x-3 rounded-lg px-4 py-3 text-sm font-medium transition-all duration-200",M(d.color,d.active),!o.isOpen&&"justify-center px-3"]),onClick:a},{default:S(()=>[(s(),r("svg",{class:_(["h-5 w-5 flex-shrink-0 transition-colors duration-200",N(d.color,d.active)]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:d.icon},null,8,Ce)],2)),o.isOpen?(s(),r("span",Se,v(d.name),1)):p("",!0)]),_:2},1032,["href","class"])),64))])])])],2)),[[W,f]])}};function Ve(){const o=$([]),u=$(0);let c=null;const h=t=>{t&&(c&&window.Echo.leave(`notifications.${t}`),c=window.Echo.private(`notifications.${t}`).listen(".notification.sent",a=>{o.value.unshift(a),a.read_at||u.value++,"Notification"in window&&Notification.permission==="granted"&&new Notification(a.title,{body:a.message,icon:"/images/ht-logo.png",tag:a.id}),window.dispatchEvent(new CustomEvent("notification-received",{detail:a}))}))},f=t=>{c&&t&&(window.Echo.leave(`notifications.${t}`),c=null)},x=async()=>"Notification"in window?await Notification.requestPermission()==="granted":!1,w=t=>{const a=o.value.find(M=>M.id===t);a&&!a.read_at&&(a.read_at=new Date().toISOString(),u.value=Math.max(0,u.value-1))},b=()=>{o.value.forEach(t=>{t.read_at||(t.read_at=new Date().toISOString())}),u.value=0},m=t=>{o.value=t,u.value=t.filter(a=>!a.read_at).length};return B(()=>{c&&window.Echo.leave(c.name)}),{notifications:o,unreadCount:u,connectToNotifications:h,disconnectFromNotifications:f,requestNotificationPermission:x,markAsRead:w,markAllAsRead:b,setNotifications:m}}function Ne(){const o=document.querySelector('meta[name="csrf-token"]');return o?o.getAttribute("content"):null}function j(o={}){const u={"X-Requested-With":"XMLHttpRequest",...o},c=Ne();return c&&(u["X-CSRF-TOKEN"]=c),u}function ze(o,u={showSign:!0,showColor:!1}){const{showSign:c,showColor:h}=u;if(o==null||isNaN(o))return h?{formatted:"0%",colorClass:"text-gray-600"}:"0%";const f=Number(o),x=f>=0?"+":"-",b=`${Math.abs(f)}%`;let m=b;if(c&&(m=`${x}${b}`),h){let t="text-gray-600";return f>0?t="text-green-600":f<0&&(t="text-red-600"),{formatted:m,colorClass:t}}return m}function St(o){return ze(o,{showSign:!0,showColor:!0})}const je={class:"relative"},Ee={key:0,class:"absolute -top-1 -right-1 flex items-center justify-center w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full"},Be={key:0,class:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-y-auto"},He={class:"p-4 border-b border-gray-200"},Oe={class:"flex items-center justify-between"},Ae=["disabled"],Le={key:0,class:"p-4 text-center text-gray-500"},Re={key:1,class:"p-4 text-center text-red-600"},De={class:"text-sm"},Te={key:2,class:"p-4 text-center text-gray-500"},Pe={key:3,class:"divide-y divide-gray-100"},Ie={class:"flex items-start space-x-3"},Ue={class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},qe=["d"],Fe={class:"flex-1 min-w-0"},Xe={class:"text-sm font-medium text-gray-900"},Ge={class:"text-sm text-gray-600 mt-1"},Je={class:"text-xs text-gray-500 mt-2"},Ke={class:"flex flex-col items-center space-y-1"},We=["onClick","disabled"],Ye=["onClick","disabled"],Qe={key:4,class:"p-4 border-t border-gray-200"},Ze={__name:"NotificationBell",props:{user:{type:Object,required:!0}},setup(o){const u=o,c=$(!1),h=$(!1),f=$(null),x=$(!1),w=$(new Set),b=$(new Set),{notifications:m,unreadCount:t,connectToNotifications:a,disconnectFromNotifications:M,requestNotificationPermission:N,markAsRead:y,markAllAsRead:i}=Ve(),d=async()=>{try{h.value=!0,f.value=null;const l=await fetch("/api/notifications?per_page=5",{headers:j()});if(!l.ok)throw new Error("Failed to fetch notifications");const n=await l.json();m.value=n.notifications.data||n.notifications,t.value=n.unread_count}catch(l){f.value=l.message,console.error("Error fetching notifications:",l)}finally{h.value=!1}},P=async l=>{try{w.value.add(l.id),(await fetch(`/api/notifications/${l.id}`,{method:"PUT",headers:j({"Content-Type":"application/json"}),body:JSON.stringify({read:!0})})).ok&&y(l.id)}catch(n){console.error("Error marking notification as read:",n)}finally{w.value.delete(l.id)}},I=async()=>{try{x.value=!0,(await fetch("/api/notifications/mark-all-read",{method:"POST",headers:j()})).ok&&i()}catch(l){console.error("Error marking all notifications as read:",l)}finally{x.value=!1}},U=async l=>{try{b.value.add(l.id),(await fetch(`/api/notifications/${l.id}`,{method:"DELETE",headers:j()})).ok&&(m.value=m.value.filter(z=>z.id!==l.id),l.is_unread&&(t.value=Math.max(0,t.value-1)))}catch(n){console.error("Error deleting notification:",n)}finally{b.value.delete(l.id)}},q=()=>{c.value=!c.value,c.value&&d()},F=l=>{const n={system_alert:"bg-red-500",task_update:"bg-blue-500",expense_approved:"bg-green-500",goal_achieved:"bg-purple-500",sale_completed:"bg-yellow-500",content_published:"bg-indigo-500",daily_summary:"bg-gray-500",reminder:"bg-orange-500",default:"bg-gray-500"};return n[l]||n.default},X=l=>{const n={system_alert:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z",task_update:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",expense_approved:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",goal_achieved:"M13 10V3L4 14h7v7l9-11h-7z",sale_completed:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",default:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"};return n[l]||n.default},G=l=>{const n=new Date(l),g=Math.floor((new Date-n)/1e3);return g<60?"Just now":g<3600?`${Math.floor(g/60)}m ago`:g<86400?`${Math.floor(g/3600)}h ago`:g<604800?`${Math.floor(g/86400)}d ago`:n.toLocaleDateString()};E(async()=>{await N(),u.user?.id&&a(u.user.id),d()}),Y(()=>u.user?.id,(l,n)=>{n&&M(n),l&&a(l)}),B(()=>{u.user?.id&&M(u.user.id)});const A=l=>{c.value&&!l.target.closest(".relative")&&(c.value=!1)};return E(()=>{document.addEventListener("click",A)}),B(()=>{document.removeEventListener("click",A)}),(l,n)=>{const z=Q("router-link");return s(),r("div",je,[e("button",{onClick:q,class:_(["relative p-2 text-gray-600 hover:text-gray-900 transition-colors focus:outline-none",{"text-blue-600":c.value}])},[n[1]||(n[1]=e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),k(t)>0?(s(),r("span",Ee,v(k(t)>99?"99+":k(t)),1)):p("",!0)],2),c.value?(s(),r("div",Be,[e("div",He,[e("div",Oe,[n[2]||(n[2]=e("h3",{class:"text-lg font-semibold text-gray-900"}," Notifications ",-1)),k(t)>0?(s(),r("button",{key:0,onClick:I,class:"text-sm text-blue-600 hover:text-blue-800 font-medium",disabled:x.value},v(x.value?"Marking...":"Mark all as read"),9,Ae)):p("",!0)])]),h.value?(s(),r("div",Le,n[3]||(n[3]=[e("svg",{class:"animate-spin h-5 w-5 text-blue-600 mx-auto",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",{class:"mt-2 text-sm"},"Loading notifications...",-1)]))):f.value?(s(),r("div",Re,[e("p",De,v(f.value),1),e("button",{onClick:d,class:"mt-2 text-blue-600 hover:text-blue-800 text-sm"}," Try again ")])):k(m).length===0?(s(),r("div",Te,n[4]||(n[4]=[e("svg",{class:"w-12 h-12 mx-auto text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),e("p",{class:"mt-2 text-sm"},"No notifications yet",-1)]))):(s(),r("div",Pe,[(s(!0),r(H,null,O(k(m),g=>(s(),r("div",{key:g.id,class:_(["p-4 hover:bg-gray-50 transition-colors",{"bg-blue-50":g.is_unread}])},[e("div",Ie,[e("div",{class:_(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",F(g.type)])},[(s(),r("svg",Ue,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:X(g.type)},null,8,qe)]))],2),e("div",Fe,[e("p",Xe,v(g.title),1),e("p",Ge,v(g.message),1),e("p",Je,v(G(g.created_at)),1)]),e("div",Ke,[g.is_unread?(s(),r("button",{key:0,onClick:J=>P(g),class:"text-blue-600 hover:text-blue-800 text-xs",disabled:w.value.has(g.id)},v(w.value.has(g.id)?"...":"Mark read"),9,We)):p("",!0),e("button",{onClick:J=>U(g),class:"text-gray-400 hover:text-red-600 text-xs",disabled:b.value.has(g.id)},v(b.value.has(g.id)?"...":"Delete"),9,Ye)])])],2))),128))])),k(m).length>0?(s(),r("div",Qe,[C(z,{to:"/notifications",class:"block text-center text-blue-600 hover:text-blue-800 text-sm font-medium cursor-pointer",onClick:n[0]||(n[0]=g=>c.value=!1)},{default:S(()=>n[5]||(n[5]=[Z(" View all notifications ",-1)])),_:1,__:[5]})])):p("",!0)])):p("",!0)])}}},et={class:"min-h-screen bg-gradient-to-br from-gray-50 via-gray-100 to-gray-50"},tt={class:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-30"},ot={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},rt={class:"flex h-16 justify-between"},st={class:"flex items-center"},at={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"},nt={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"},it={class:"flex items-center space-x-4"},lt={class:"relative",id:"notification-button"},dt={class:"relative"},ct={class:"w-8 h-8"},ut=["src"],ht={class:"hidden md:block text-gray-700"},gt={id:"user-dropdown",class:"hidden absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-1 z-50"},vt={class:"px-4 py-3 border-b border-gray-200"},ft={class:"text-sm font-medium text-gray-900"},mt={class:"text-xs text-gray-500 truncate"},pt={class:"py-1"},xt={key:0,class:"bg-gradient-to-r from-white via-gray-50 to-white shadow-sm border-b border-gray-200"},bt={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6"},yt={class:"flex-1"},wt={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8"},kt={class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},_t={class:"bg-white border-t border-gray-200 mt-auto"},$t={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4"},Mt={class:"flex justify-between items-center text-sm text-gray-500"},Vt={__name:"AuthenticatedLayout",setup(o){T(),$(!1);const u=$(!0),c=$(!1),h=()=>{u.value=!u.value},f=()=>{c.value=!c.value},x=()=>{c.value=!1},w=t=>{c.value&&!t.target.closest(".sidebar-container")&&x()},b=t=>{w(t);const a=document.getElementById("notification-dropdown"),M=document.getElementById("notification-button");a&&M&&!M.contains(t.target)&&!a.contains(t.target)&&a.classList.add("hidden")},m=()=>{const t=document.getElementById("user-dropdown");t&&t.classList.toggle("hidden")};return E(()=>{document.addEventListener("click",b)}),B(()=>{document.removeEventListener("click",b)}),(t,a)=>(s(),r("div",et,[c.value?(s(),r("div",{key:0,class:"fixed inset-0 z-40 bg-gray-900 bg-opacity-50 backdrop-blur-sm lg:hidden transition-opacity duration-300",onClick:x})):p("",!0),C(D,{"is-open":u.value,"is-mobile":!1,onToggle:h,class:"hidden lg:block"},null,8,["is-open"]),C(D,{"is-open":c.value,"is-mobile":!0,onClose:x,class:"lg:hidden"},null,8,["is-open"]),e("div",{class:_(["min-h-screen transition-all duration-300 ease-in-out",u.value?"lg:ml-72":"lg:ml-20"])},[e("nav",tt,[e("div",ot,[e("div",rt,[e("div",st,[e("button",{onClick:f,class:"inline-flex items-center justify-center rounded-lg p-2 text-gray-600 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 transition-all duration-200 lg:hidden"},a[0]||(a[0]=[e("svg",{class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])),e("button",{onClick:h,class:"hidden rounded-lg p-2 text-gray-600 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 transition-all duration-200 lg:block"},[(s(),r("svg",{class:_(["h-5 w-5 transition-transform duration-200",u.value?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u.value?(s(),r("path",at)):(s(),r("path",nt))],2))])]),e("div",it,[e("div",lt,[C(Ze,{user:t.$page.props.auth.user},null,8,["user"])]),e("div",dt,[e("button",{onClick:m,class:"flex items-center space-x-3 rounded-lg px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-200"},[e("div",ct,[e("img",{src:t.$page.props.auth.user.avatar_url,alt:"User profile image",class:"h-full w-full object-cover rounded-full"},null,8,ut)]),e("span",ht,v(t.$page.props.auth.user.name),1),a[1]||(a[1]=e("svg",{class:"hidden md:block h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),e("div",gt,[e("div",vt,[e("p",ft,v(t.$page.props.auth.user.name),1),e("p",mt,v(t.$page.props.auth.user.email),1)]),e("div",pt,[C(k(V),{href:t.route("profile.edit"),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200"},{default:S(()=>a[2]||(a[2]=[e("div",{class:"flex items-center space-x-2"},[e("svg",{class:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),e("span",null,"Profile")],-1)])),_:1,__:[2]},8,["href"]),C(k(V),{href:t.route("logout"),method:"post",as:"button",class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200"},{default:S(()=>a[3]||(a[3]=[e("div",{class:"flex items-center space-x-2"},[e("svg",{class:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})]),e("span",null,"Log Out")],-1)])),_:1,__:[3]},8,["href"])])])])])])])]),t.$slots.header?(s(),r("header",xt,[e("div",bt,[R(t.$slots,"header")])])):p("",!0),e("main",yt,[e("div",wt,[e("div",kt,[R(t.$slots,"default")])])]),e("footer",_t,[e("div",$t,[e("div",Mt,[e("p",null," © "+v(new Date().getFullYear())+" Hidden Treasures Dashboard ",1),a[4]||(a[4]=e("p",{class:"hidden sm:block"}," Powered by Laravel & Vue.js ",-1))])])])],2)]))}};export{Vt as _,j as c,St as f};
