import{m as j,d as A,o as l,w as x,e as t,c as o,t as n,i as c,F as h,z as f,g as y,n as v,s as d}from"./app-DIXSCgPE.js";import{_ as V}from"./AuthenticatedLayout-_5prmJNd.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"font-semibold text-xl text-gray-800 leading-tight"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},z={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},F={class:"lg:col-span-1"},N={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},P={class:"p-6"},H={class:"flex items-center space-x-4 mb-6"},L={class:"flex-shrink-0 h-16 w-16"},T={key:0,class:"h-16 w-16 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden"},I=["src","alt"],M={key:1,class:"h-16 w-16 rounded-full bg-indigo-600 flex items-center justify-center"},R={class:"text-white font-medium text-lg"},U={class:"text-lg font-medium text-gray-900"},q={key:0,class:"text-sm text-gray-500"},O={class:"space-y-4"},Y={key:0},G=["href"],J={key:1},K={class:"text-gray-900"},Q={key:2},W={class:"text-gray-900"},X={key:3},Z={class:"text-gray-900 whitespace-pre-line"},tt={class:"text-blue-600 font-medium"},et={class:"text-green-600 font-medium"},st={class:"lg:col-span-2 space-y-6"},nt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},it={class:"p-6"},lt={key:0},ot={class:"flex justify-between items-center"},at={class:"font-medium text-gray-900"},ct={class:"text-sm text-gray-500"},dt={class:"text-right"},rt={class:"font-medium text-green-600"},mt={class:"text-sm text-gray-500"},ut={key:1,class:"text-center py-8 text-gray-500"},gt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},xt={class:"p-6"},ht={key:0},ft={class:"font-medium text-gray-900"},yt={class:"text-sm text-gray-500"},vt={class:"text-sm text-gray-600 mt-1 line-clamp-2"},bt={key:1,class:"text-center py-8 text-gray-500"},_t={__name:"Show",props:{client:{type:Object,required:!0}},setup(e){const r=e,m=j(!1),b=()=>{d.visit(`/clients/${r.client.id}/edit`)},_=async()=>{if(confirm("Are you sure you want to delete this client? This action cannot be undone."))try{m.value=!0,await d.delete(`/clients/${r.client.id}`,{preserveScroll:!0,onSuccess:()=>{d.visit("/clients")},onError:i=>{console.error("Error deleting client:",i),i.message?.includes("403")&&alert("You don't have permission to delete this client.")},onFinish:()=>{m.value=!1}})}catch(i){m.value=!1,console.error("Error deleting client:",i)}},w=()=>{d.visit("/sales",{data:{client_id:r.client.id}})},k=()=>{d.visit("/content",{data:{client_id:r.client.id}})},p=(i,s)=>`${i?.charAt(0)||""}${s?.charAt(0)||""}`.toUpperCase(),C=i=>parseFloat(i).toFixed(2),u=i=>new Date(i).toLocaleDateString(),g=i=>i?i.charAt(0).toUpperCase()+i.slice(1).replace("_"," "):"",S=i=>({pending:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",scheduled:"bg-purple-100 text-purple-800"})[i]||"bg-gray-100 text-gray-800",$=i=>({draft:"bg-gray-100 text-gray-800",published:"bg-green-100 text-green-800",scheduled:"bg-blue-100 text-blue-800",archived:"bg-red-100 text-red-800"})[i]||"bg-gray-100 text-gray-800";return(i,s)=>(l(),A(V,null,{header:x(()=>[t("h2",D," Client Details: "+n(e.client.first_name)+" "+n(e.client.last_name),1)]),default:x(()=>[t("div",null,[t("div",E,[t("div",z,[t("div",F,[t("div",N,[t("div",P,[t("div",H,[t("div",L,[e.client.profile_image_url?(l(),o("div",T,[t("img",{src:e.client.profile_image_url,alt:`${e.client.first_name} ${e.client.last_name}`,class:"h-full w-full object-cover"},null,8,I)])):(l(),o("div",M,[t("span",R,n(p(e.client.first_name,e.client.last_name)),1)]))]),t("div",null,[t("h3",U,n(e.client.first_name)+" "+n(e.client.last_name),1),e.client.company?(l(),o("p",q,n(e.client.company),1)):c("",!0)])]),t("div",O,[e.client.email?(l(),o("div",Y,[s[0]||(s[0]=t("h4",{class:"text-sm font-medium text-gray-500"}," Email ",-1)),t("a",{href:`mailto:${e.client.email}`,class:"text-indigo-600 hover:text-indigo-900"},n(e.client.email),9,G)])):c("",!0),e.client.phone?(l(),o("div",J,[s[1]||(s[1]=t("h4",{class:"text-sm font-medium text-gray-500"}," Phone ",-1)),t("p",K,n(e.client.phone),1)])):c("",!0),e.client.category?(l(),o("div",Q,[s[2]||(s[2]=t("h4",{class:"text-sm font-medium text-gray-500"}," Category ",-1)),t("p",W,n(e.client.category),1)])):c("",!0),e.client.address?(l(),o("div",X,[s[3]||(s[3]=t("h4",{class:"text-sm font-medium text-gray-500"}," Address ",-1)),t("p",Z,n(e.client.address),1)])):c("",!0),t("div",null,[s[4]||(s[4]=t("h4",{class:"text-sm font-medium text-gray-500"}," Total Sales ",-1)),t("p",tt,n(e.client.sales?.length||0),1)]),t("div",null,[s[5]||(s[5]=t("h4",{class:"text-sm font-medium text-gray-500"}," Content Posts ",-1)),t("p",et,n(e.client.content_posts?.length||0),1)])]),t("div",{class:"mt-6 flex space-x-3"},[t("button",{onClick:b,class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Edit Client "),t("button",{onClick:_,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Delete ")])])])]),t("div",st,[t("div",nt,[t("div",it,[s[7]||(s[7]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Recent Sales ",-1)),e.client.sales&&e.client.sales.length>0?(l(),o("div",lt,[(l(!0),o(h,null,f(e.client.sales.slice(0,5),a=>(l(),o("div",{key:a.id,class:"border-b border-gray-100 py-3 last:border-b-0"},[t("div",ot,[t("div",null,[t("h4",at,n(a.product_name),1),t("p",ct,[y(n(u(a.sale_date))+" • ",1),t("span",{class:v([S(a.status),"px-2 py-1 text-xs rounded-full"])},n(g(a.status)),3)])]),t("div",dt,[t("p",rt," $"+n(C(a.amount)),1),t("p",mt,n(a.payment_method),1)])])]))),128)),t("div",{class:"mt-4 text-center"},[t("button",{onClick:w,class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium"}," View all sales → ")])])):(l(),o("div",ut,s[6]||(s[6]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),t("p",{class:"mt-2"}," No sales recorded for this client ",-1)])))])]),t("div",gt,[t("div",xt,[s[9]||(s[9]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Recent Content Posts ",-1)),e.client.content_posts&&e.client.content_posts.length>0?(l(),o("div",ht,[(l(!0),o(h,null,f(e.client.content_posts.slice(0,5),a=>(l(),o("div",{key:a.id,class:"border-b border-gray-100 py-3 last:border-b-0"},[t("div",null,[t("h4",ft,n(a.title),1),t("p",yt,[y(n(u(a.created_at))+" • ",1),t("span",{class:v([$(a.status),"px-2 py-1 text-xs rounded-full"])},n(g(a.status)),3)]),t("p",vt,n(a.description),1)])]))),128)),t("div",{class:"mt-4 text-center"},[t("button",{onClick:k,class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium"}," View all content posts → ")])])):(l(),o("div",bt,s[8]||(s[8]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),t("p",{class:"mt-2"}," No content posts for this client ",-1)])))])])])])])])]),_:1}))}},Ct=B(_t,[["__scopeId","data-v-bc6e6a33"]]);export{Ct as default};
