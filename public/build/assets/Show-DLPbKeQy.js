import{m as V,d as $,o as l,w as x,e as t,t as n,c as a,i as r,F as h,y as f,g as y,n as v,q as d}from"./app-DMsrlBw0.js";import{_ as B}from"./AuthenticatedLayout-CoyhxnNm.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"font-semibold text-xl text-gray-800 leading-tight"},j={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},N={class:"lg:col-span-1"},z={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},P={class:"p-6"},H={class:"flex items-center space-x-4 mb-6"},L={class:"flex-shrink-0 h-16 w-16"},T={class:"h-16 w-16 rounded-full bg-indigo-600 flex items-center justify-center"},q={class:"text-white font-medium text-lg"},I={class:"text-lg font-medium text-gray-900"},M={key:0,class:"text-sm text-gray-500"},R={class:"space-y-4"},U={key:0},O=["href"],Y={key:1},G={class:"text-gray-900"},J={key:2},K={class:"text-gray-900 whitespace-pre-line"},Q={class:"text-blue-600 font-medium"},W={class:"text-green-600 font-medium"},X={class:"lg:col-span-2 space-y-6"},Z={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},tt={class:"p-6"},et={key:0},st={class:"flex justify-between items-center"},nt={class:"font-medium text-gray-900"},it={class:"text-sm text-gray-500"},ot={class:"text-right"},lt={class:"font-medium text-green-600"},at={class:"text-sm text-gray-500"},dt={key:1,class:"text-center py-8 text-gray-500"},ct={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},rt={class:"p-6"},mt={key:0},ut={class:"font-medium text-gray-900"},gt={class:"text-sm text-gray-500"},xt={class:"text-sm text-gray-600 mt-1 line-clamp-2"},ht={key:1,class:"text-center py-8 text-gray-500"},ft={__name:"Show",props:{client:{type:Object,required:!0}},setup(e){const c=e,m=V(!1),b=()=>{d.visit(`/clients/${c.client.id}/edit`)},_=async()=>{if(confirm("Are you sure you want to delete this client? This action cannot be undone."))try{m.value=!0,await d.delete(`/clients/${c.client.id}`,{preserveScroll:!0,onSuccess:()=>{d.visit("/clients")},onError:i=>{console.error("Error deleting client:",i),i.message?.includes("403")&&alert("You don't have permission to delete this client.")},onFinish:()=>{m.value=!1}})}catch(i){m.value=!1,console.error("Error deleting client:",i)}},p=()=>{d.visit("/sales",{data:{client_id:c.client.id}})},w=()=>{d.visit("/content",{data:{client_id:c.client.id}})},k=(i,s)=>`${i?.charAt(0)||""}${s?.charAt(0)||""}`.toUpperCase(),C=i=>parseFloat(i).toFixed(2),u=i=>new Date(i).toLocaleDateString(),g=i=>i?i.charAt(0).toUpperCase()+i.slice(1).replace("_"," "):"",S=i=>({pending:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",scheduled:"bg-purple-100 text-purple-800"})[i]||"bg-gray-100 text-gray-800",A=i=>({draft:"bg-gray-100 text-gray-800",published:"bg-green-100 text-green-800",scheduled:"bg-blue-100 text-blue-800",archived:"bg-red-100 text-red-800"})[i]||"bg-gray-100 text-gray-800";return(i,s)=>(l(),$(B,null,{header:x(()=>[t("h2",E," Client Details: "+n(e.client.first_name)+" "+n(e.client.last_name),1)]),default:x(()=>[t("div",null,[t("div",j,[t("div",F,[t("div",N,[t("div",z,[t("div",P,[t("div",H,[t("div",L,[t("div",T,[t("span",q,n(k(e.client.first_name,e.client.last_name)),1)])]),t("div",null,[t("h3",I,n(e.client.first_name)+" "+n(e.client.last_name),1),e.client.company?(l(),a("p",M,n(e.client.company),1)):r("",!0)])]),t("div",R,[e.client.email?(l(),a("div",U,[s[0]||(s[0]=t("h4",{class:"text-sm font-medium text-gray-500"}," Email ",-1)),t("a",{href:`mailto:${e.client.email}`,class:"text-indigo-600 hover:text-indigo-900"},n(e.client.email),9,O)])):r("",!0),e.client.phone?(l(),a("div",Y,[s[1]||(s[1]=t("h4",{class:"text-sm font-medium text-gray-500"}," Phone ",-1)),t("p",G,n(e.client.phone),1)])):r("",!0),e.client.address?(l(),a("div",J,[s[2]||(s[2]=t("h4",{class:"text-sm font-medium text-gray-500"}," Address ",-1)),t("p",K,n(e.client.address),1)])):r("",!0),t("div",null,[s[3]||(s[3]=t("h4",{class:"text-sm font-medium text-gray-500"}," Total Sales ",-1)),t("p",Q,n(e.client.sales?.length||0),1)]),t("div",null,[s[4]||(s[4]=t("h4",{class:"text-sm font-medium text-gray-500"}," Content Posts ",-1)),t("p",W,n(e.client.content_posts?.length||0),1)])]),t("div",{class:"mt-6 flex space-x-3"},[t("button",{onClick:b,class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Edit Client "),t("button",{onClick:_,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Delete ")])])])]),t("div",X,[t("div",Z,[t("div",tt,[s[6]||(s[6]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Recent Sales ",-1)),e.client.sales&&e.client.sales.length>0?(l(),a("div",et,[(l(!0),a(h,null,f(e.client.sales.slice(0,5),o=>(l(),a("div",{key:o.id,class:"border-b border-gray-100 py-3 last:border-b-0"},[t("div",st,[t("div",null,[t("h4",nt,n(o.product_name),1),t("p",it,[y(n(u(o.sale_date))+" • ",1),t("span",{class:v([S(o.status),"px-2 py-1 text-xs rounded-full"])},n(g(o.status)),3)])]),t("div",ot,[t("p",lt," $"+n(C(o.amount)),1),t("p",at,n(o.payment_method),1)])])]))),128)),t("div",{class:"mt-4 text-center"},[t("button",{onClick:p,class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium"}," View all sales → ")])])):(l(),a("div",dt,s[5]||(s[5]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),t("p",{class:"mt-2"}," No sales recorded for this client ",-1)])))])]),t("div",ct,[t("div",rt,[s[8]||(s[8]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Recent Content Posts ",-1)),e.client.content_posts&&e.client.content_posts.length>0?(l(),a("div",mt,[(l(!0),a(h,null,f(e.client.content_posts.slice(0,5),o=>(l(),a("div",{key:o.id,class:"border-b border-gray-100 py-3 last:border-b-0"},[t("div",null,[t("h4",ut,n(o.title),1),t("p",gt,[y(n(u(o.created_at))+" • ",1),t("span",{class:v([A(o.status),"px-2 py-1 text-xs rounded-full"])},n(g(o.status)),3)]),t("p",xt,n(o.description),1)])]))),128)),t("div",{class:"mt-4 text-center"},[t("button",{onClick:w,class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium"}," View all content posts → ")])])):(l(),a("div",ht,s[7]||(s[7]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),t("p",{class:"mt-2"}," No content posts for this client ",-1)])))])])])])])])]),_:1}))}},_t=D(ft,[["__scopeId","data-v-f3fb9e4d"]]);export{_t as default};
